<!DOCTYPE html>
<!-- saved from url=(0053)https://aghassi.github.io/NodeJS-Express-NginX-Setup/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Deploying NodeJS using Express with NginX and Let's Encrypt – The Corner – A wandering programmer just trying to keep it simple.</title>

        
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

    
    <meta name="description" content="As my New Years resolution, I decided to get back to work on my side project, Find My Bus NJ. As part of the 2.0 revision that I have been working on, getting a server up and running to handle my REST requests has been the top blocker. As I mentioned in an earlier post, I had been playing around with SSL on a local server. Going into this though, I knew it would take some more effort that the localhost setup. After doing much research these were the tools I picked out going forward.

">
    <meta property="og:description" content="As my New Years resolution, I decided to get back to work on my side project, Find My Bus NJ. As part of the 2.0 revision that I have been working on, getting a server up and running to handle my REST requests has been the top blocker. As I mentioned in an earlier post, I had been playing around with SSL on a local server. Going into this though, I knew it would take some more effort that the localhost setup. After doing much research these were the tools I picked out going forward.

">
    
    <meta name="author" content="The Corner">

    
    <meta property="og:title" content="Deploying NodeJS using Express with NginX and Let&#39;s Encrypt">
    <meta property="twitter:title" content="Deploying NodeJS using Express with NginX and Let&#39;s Encrypt">
    

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" type="text/css" href="./Deploying NodeJS using Express with NginX and Let&#39;s Encrypt – The Corner – A wandering programmer just trying to keep it simple._files/style.css">
    <link rel="alternate" type="application/rss+xml" title="The Corner - A wandering programmer just trying to keep it simple." href="https://aghassi.github.io/feed.xml">

    <!-- Created with Jekyll Now - http://github.com/barryclark/jekyll-now -->
  </head>

  <body>
    <div class="wrapper-masthead">
      <div class="container">
        <header class="masthead clearfix">
          <a href="https://aghassi.github.io/" class="site-avatar"><img src="./Deploying NodeJS using Express with NginX and Let&#39;s Encrypt – The Corner – A wandering programmer just trying to keep it simple._files/3680126"></a>

          <div class="site-info">
            <h1 class="site-name"><a href="https://aghassi.github.io/">The Corner</a></h1>
            <p class="site-description">A wandering programmer just trying to keep it simple.</p>
          </div>

          <nav>
            <a href="https://aghassi.github.io/">Blog</a>
            <a href="https://aghassi.github.io/about">About</a>
          </nav>
        </header>
      </div>
    </div>

    <div id="main" role="main" class="container">
      <article class="post">
  <h1>Deploying NodeJS using Express with NginX and Let's Encrypt</h1>

  <div class="entry">
    <p>As my New Years resolution, I decided to get back to work on my side project, <a href="https://findmybusnj.com/">Find My Bus NJ</a>. As part of the 2.0 revision that I have been working on, getting a server up and running to handle my REST requests has been the top blocker. As I mentioned in an <a href="http://aghassi.github.io/ssl-using-express-4/">earlier post</a>, I had been playing around with SSL on a local server. Going into this though, I knew it would take some more effort that the <code class="highlighter-rouge">localhost</code> setup. After doing much research these were the tools I picked out going forward.</p>

<ul>
  <li>DigitalOcean -&gt; For hosting my content and acting as my server endpoint</li>
  <li>Let’s Encrypt -&gt; Allows me to get a free SSL Certificate for 3 months</li>
  <li>NodeJS + Express -&gt; Easy to set up with rest endpoints and SSL</li>
  <li>Redis -&gt; A NoSQL database that is extremely fast and lightweight</li>
  <li>Nginx -&gt; Acts as a proxy for NodeJS to bind to the web address</li>
</ul>

<hr>

<h3 id="setting-up-a-droplet">Setting up a Droplet</h3>
<p>Once you log into your DigitalOcean account, (remember, if you are a student, you can get $50 free through the GitHub Education Pack) you can deploy your first droplet. I used the NodeJS droplet because it comes with Node pre-installed. Honestly, you will have to do a lot of work anyway to get things working, so you might as well make your life a little easier. You can start with fresh Ubuntu too, that would work fine. Once you are logged in, you are ready to start setting up your server! That’s it, droplet deployed. I highly recommend accessing it through <code class="highlighter-rouge">SSH</code> via a terminal app of your choosing instead of through their online command line.</p>

<hr>

<h3 id="owning-a-domain">Owning a Domain</h3>
<p>If you are a student, you can acquire a free domain through NameCheap (even though it is limited to a <code class="highlighter-rouge">.me</code> domain). However, I already owned the domain I was using, but it was hosted over on Bluehost. It is a shared hosting website, so I had to change the DNS records to point at DigitalOcean. I found a great article on how to do that <a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-a-host-name-with-digitalocean">here</a>. All I needed to do was add my domain for the A Record, and that was it. The domain became immediately associated, and was ready to use.</p>

<hr>

<h3 id="setting-up-nodejs">Setting up NodeJS</h3>
<p>Node is pretty straight forward to use, and npm makes everything a breeze. These are the packages I used in my setup:</p>

<ul>
  <li><a href="https://www.npmjs.com/package/forever">forever</a> - This allows you to run your node server in the background, and will restart it if the task stops working. Very handy. I installed this using <code class="highlighter-rouge">npm install forever -g</code> so it is available globally.</li>
  <li><a href="https://www.npmjs.com/package/express">express</a> - A lightweight web framework that provides an easy means of routing</li>
  <li>http - allows you to run an http server</li>
  <li>https - allows for a secure http server</li>
  <li>fs - fs (which I assume is short for file system) allows you to read to and from the file system. This will be used with our SSL cert.</li>
  <li><a href="https://www.npmjs.com/package/body-parser">body-parser</a> - allows you to parse the body of requests. Useful for sending variables to your REST endpoints</li>
  <li><a href="https://www.npmjs.com/package/redis">redis</a> - the client that will connect to your Redis DB and interact with it</li>
  <li><a href="https://www.npmjs.com/package/xml2json">xml2json</a> - allows me to convert XML I receive into JSON easily. <em>Note: you may have to <code class="highlighter-rouge">apt-get install g++</code> on your droplet for this to install properly</em></li>
  <li><a href="https://www.npmjs.com/package/serve-static">serve-static</a> - a nice way to augment your server to be able to serve up a static site</li>
</ul>

<p>So we have all these dependencies, which sucks a bit, but worth it in the end. Starting with the top of my <code class="highlighter-rouge">app.js</code> was importing all these dependencies. I’m going to avoid covering the Redis stuff as well as the xml2json stuff because I don’t feel that is necessary for this article. I may write one in the future on it, but for right now I think this is more important to share.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="c1">// imports</span>
<span class="kd">var</span> <span class="nx">express</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'express'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'request'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">http</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'http'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">https</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'https'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">staticServe</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'serve-static'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'fs'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">bodyParser</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'body-parser'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">xml2json</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'xml2json'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">redis</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'redis'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">redisClient</span> <span class="o">=</span> <span class="nx">redis</span><span class="p">.</span><span class="nx">createClient</span><span class="p">(</span><span class="mi">6379</span><span class="p">);</span>

<span class="c1">// server</span>
<span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">express</span><span class="p">();</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">bodyParser</span><span class="p">.</span><span class="nx">json</span><span class="p">());</span> <span class="c1">// used for parsing application/json</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">bodyParser</span><span class="p">.</span><span class="nx">urlencoded</span><span class="p">({</span> <span class="na">extended</span><span class="p">:</span> <span class="kc">true</span> <span class="p">}));</span>     <span class="c1">// for parsing application/x-www-form-unlencoded</span>

<span class="c1">// Used for setting up your static site</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">staticServe</span><span class="p">(</span><span class="s1">'_domain'</span><span class="p">,</span> <span class="p">{</span><span class="s1">'index'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'index.html'</span><span class="p">,</span> <span class="s1">'index.html'</span><span class="p">]}));</span>

<span class="c1">// Read the link below about express behind a proxy</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">'trust proxy'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">'trust proxy'</span><span class="p">,</span> <span class="s1">'loopback'</span><span class="p">);</span>
</code></pre>
</div>

<p>Good rule of thumb is to name all your variables the same or similar to the thing you are using. This way you can refer to it easily later. <code class="highlighter-rouge">var app = express()</code> starts a new express instance, which we can use for routing. We tell this instance that it has to handle <code class="highlighter-rouge">json</code> and <code class="highlighter-rouge">x-www-form-unlencoding</code>. We need that so we can send data to our server and get it back. We use <code class="highlighter-rouge">serve-static</code> to serve up a static website from a local folder named <code class="highlighter-rouge">_domain/</code>. For the index file, we tell it to use <code class="highlighter-rouge">index.html</code> or <code class="highlighter-rouge">index.htm</code>.
The last thing is prepping for when we setup Nginx. Read more about putting <a href="http://expressjs.com/en/guide/behind-proxies.html">Express Behind a Proxy</a>. This will explain why those variables are set.</p>

<hr>

<h3 id="pause-to-setup-nginx-and-lets-encrypt">Pause to setup Nginx and Let’s Encrypt</h3>
<p>Alright, quick stop before going forward so we can prep for SSL. You will want to go get nginx. Since we are on an Ubuntu VM, we can <code class="highlighter-rouge">apt-get</code> it.</p>

<p><code class="highlighter-rouge">sudo apt-get update</code></p>

<p><code class="highlighter-rouge">sudo apt-get install nginx</code></p>

<p>Once we have done that, Nginx should start right away. To verify your site is running properly, you can open up <a href="https://www.getpostman.com/">Postman</a> and send a get request to your server’s IP, or the address we setup earlier with DigitalOcean. You should get a 200 OK response and some basic HTML back that says “Welcome to nginx!” or something like that. Once we have that done, we can create our nginx <code class="highlighter-rouge">.conf</code> file that we can use to manage our node instances.</p>

<p>At this point, go to <code class="highlighter-rouge">cd ~</code> and clone <a href="https://letsencrypt.org/">Let’s Encrypt</a>. Once you have cloned it run the following in the <code class="highlighter-rouge">letsencrypt</code> folder:</p>

<p><code class="highlighter-rouge">./letsencrypt-auto certonly</code></p>

<p>This will walk you through the steps for registering your domain with a certificate authority. It may ask you to stop your nginx server because it needs to port temporarily. If this is the case, just run <code class="highlighter-rouge">service nginx stop</code>, run the above line again, then run <code class="highlighter-rouge">service nginx start</code>. Once you have completed this, it will tell you something like <code class="highlighter-rouge">Your certificate has been generated and is good until April 4th of 2016. You can find your certificate at /etc/letsencrypt/live/yourdomainname.com/</code>. Remember or write down that folder address, we will need it in a minute</p>

<p>The best way of thinking about this setup is that nginx gets all the hits, and then can manage multiple node instances in the background which each do their own thing. Sort of like a Master -&gt; Worker model. Except each node instance is highly specialized for one/many things. Below you can see my server config file:</p>

<div class="language-nginx highlighter-rouge"><pre class="highlight"><code><span class="k">upstream</span> <span class="s">rest_node_js</span> <span class="p">{</span>
    <span class="kn">server</span>  <span class="nf">127.0.0.1</span><span class="p">:</span><span class="mi">8000</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">server</span> <span class="p">{</span>
    <span class="kn">listen</span> <span class="mi">443</span> <span class="s">ssl</span><span class="p">;</span>
    <span class="kn">server_name</span> <span class="s">findmybusnj.com</span><span class="p">;</span>

    <span class="kn">ssl</span> <span class="no">on</span><span class="p">;</span>
    <span class="kn">gzip</span> <span class="no">on</span><span class="p">;</span>

    <span class="kn">ssl_certificate</span> <span class="n">/etc/letsencrypt/live/findmybusnj.com/cert.pem</span><span class="p">;</span>
    <span class="kn">ssl_certificate_key</span> <span class="n">/etc/letsencrypt/live/findmybusnj.com/privkey.pem</span><span class="p">;</span>

    <span class="kn">ssl_stapling</span> <span class="no">on</span><span class="p">;</span>
    <span class="kn">ssl_stapling_verify</span> <span class="no">on</span><span class="p">;</span>
    <span class="kn">ssl_trusted_certificate</span> <span class="n">/etc/letsencrypt/live/findmybusnj.com/fullchain.pem</span><span class="p">;</span>

    <span class="kn">ssl_session_timeout</span> <span class="mi">5m</span><span class="p">;</span>

    <span class="kn">location</span> <span class="n">/</span> <span class="p">{</span>
            <span class="kn">proxy_pass</span> <span class="s">http://rest_node_js</span><span class="p">;</span>
            <span class="kn">proxy_redirect</span> <span class="no">off</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">server</span> <span class="p">{</span>
    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
    <span class="kn">server_name</span> <span class="s">findmybusnj.com</span><span class="p">;</span>
    <span class="kn">return</span> <span class="mi">301</span> <span class="s">https://findmybusnj.com</span><span class="nv">$request_uri</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">server</span> <span class="p">{</span>
    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
    <span class="kn">server_name</span> <span class="s">www.findmybusnj.com</span><span class="p">;</span>
    <span class="kn">rewrite</span> <span class="s">^/(.*)</span> <span class="s">https://findmybusnj.com/</span><span class="nv">$1</span> <span class="s">permanent</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">server</span> <span class="p">{</span>
    <span class="kn">listen</span> <span class="mi">443</span><span class="p">;</span>
    <span class="kn">server_name</span> <span class="s">www.findmybusnj.com</span><span class="p">;</span>
    <span class="kn">rewrite</span> <span class="s">^/(.*)</span> <span class="s">https://findmybusnj.com/</span><span class="nv">$1</span> <span class="s">permanent</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<p>Wow that seems like a lot! Let’s break it down:</p>

<ul>
  <li><strong>upstream</strong> - This is telling the nginx server that there is a point that we want to proxy the data to upstream. <code class="highlighter-rouge">127.0.0.1</code> is the same as saying <code class="highlighter-rouge">localhost</code>, meaning this computer/VM we are working on. <code class="highlighter-rouge">:8000</code> tells it what port to look for locally for the service.</li>
  <li><strong>server with ssl</strong> - We start off by telling nginx we want it to listen for a server on 443 (default port for HTTPS) and that it is ssl enabled. <code class="highlighter-rouge">server_name</code> is what address someone would type into the address bar to access this site. <code class="highlighter-rouge">ssl on</code> enables HTTPS on the server, and <code class="highlighter-rouge">gzip on</code> enables gzip compression on the server. Remember that SSL location I told you we needed? Now we need it! Specify <code class="highlighter-rouge">ssl_certificate</code> with the location of your <code class="highlighter-rouge">cert.pem</code>. Then provide the key for the certificate using <code class="highlighter-rouge">ssl_certificate_key</code>, which is your <code class="highlighter-rouge">privkey.pem</code>. We also need to enable stapling so that our client can verify our certificate is valid, as well as provide the trusted cert we generated. Lastly, we set the proxy for <code class="highlighter-rouge">location /</code>, meaning all requests that come to <code class="highlighter-rouge">/</code> get passed to node. This will also cover the rest endpoints.</li>
  <li><strong>the other servers</strong> - These server definitions set the site to always redirect to the https version of the site. Even though we run the http version, we always want our users to be secure.</li>
</ul>

<hr>

<h3 id="back-to-nodejs">Back to NodeJS</h3>
<p>Alright we have our Nginx instance setup with our certificates, great! We want to make sure our node instance is running so we can actually use what we setup. Open up our <code class="highlighter-rouge">app.js</code> that we were working on earlier and we have to add the following lines:</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">ssl</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">key</span><span class="p">:</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="s1">'/etc/letsencrypt/live/findmybusnj.com/privkey.pem'</span><span class="p">),</span>
    <span class="na">cert</span><span class="p">:</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="s1">'/etc/letsencrypt/live/findmybusnj.com/fullchain.pem'</span><span class="p">),</span>
    <span class="na">ca</span><span class="p">:</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="s1">'/etc/letsencrypt/live/findmybusnj.com/chain.pem'</span><span class="p">)</span>
<span class="p">}</span>

<span class="nx">http</span><span class="p">.</span><span class="nx">createServer</span><span class="p">(</span><span class="nx">app</span><span class="p">).</span><span class="nx">listen</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">PORT</span> <span class="o">||</span> <span class="mi">8000</span><span class="p">);</span>
<span class="nx">https</span><span class="p">.</span><span class="nx">createServer</span><span class="p">(</span><span class="nx">ssl</span><span class="p">,</span> <span class="nx">app</span><span class="p">).</span><span class="nx">listen</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">PORT</span> <span class="o">||</span> <span class="mi">8443</span><span class="p">);</span>
</code></pre>
</div>

<p>Let’s break this down and see what we are doing. Like before, in the Nginx config file, we have to point our instance to the SSL options we have. We do syncronous reads to the disk to get this data, which isn’t huge because they are small files. We follow this by setting up our servers. We setup an <code class="highlighter-rouge">http</code> and <code class="highlighter-rouge">https</code> server. Both take the express settings we have setup, as well as the process port we are using (or a fallback port which we specify). For the <code class="highlighter-rouge">https</code> server we have to pass in the <code class="highlighter-rouge">ssl</code> options we provided earlier.</p>

<p>For testing sake, you can add an endpoint like the following:
<code class="highlighter-rouge">app.get(/rest/test, function (req,res) { res.json("Hello World!"});</code></p>

<p>That will allow you to send a request to you <code class="highlighter-rouge">yourdomain.com/rest/test</code> using Postman and see your JSON response “Hello World!”.</p>

<p>One you are done, save your file.</p>

<h3 id="running-your-app-and-final-thoughts">Running your app, and final thoughts</h3>
<p>Once your configs are all ready to go, you can run <code class="highlighter-rouge">npm install forever -g</code> if you haven’t already so you can run <code class="highlighter-rouge">forever</code>. Once installed run <code class="highlighter-rouge">forever start app.js</code>. And that is it, you can see if your process is running by grepping for it using <code class="highlighter-rouge">ps aux | grep "node"</code>. <code class="highlighter-rouge">forever</code> will keep your process running and restart it if it crashes.</p>

<p>Overall this took a lot of trial and error on my end, mostly because I wasn’t expecting the use of Nginx. I was hoping NodeJS could handle some of the more intense stuff, but such is life. I learned a ton, and it put my Linux skills to the test (which is alwasy good). I’m always looking to improve, so if you find that there is something here you would have done differently, feel free to email me and let me know. Unfortunately, this stuff is never really documented anywhere in explicit steps, there is a lot to fill in for yourself, which I find dissapointing because I think the more documentation, the easier this type of thing would be. There are a lot of click bait titles, but not all of which actually give you any substantial to work with.</p>

  </div>

  <div class="date">
    Written on January  4, 2016
  </div>

  
</article>

    </div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">
          



<a href="https://github.com/aghassi"><i class="svg-icon github"></i></a>




<a href="https://www.twitter.com/d_aghassi"><i class="svg-icon twitter"></i></a>



        </footer>
      </div>
    </div>

    

  

<div id="pkt_ext_master" class="pkt_ext_container pkt_ext_container_inactive"><div id="pkt_ext_save_plate"><div class="pkt_ext_component_save">

    <div class="pkt_ext_save_details pkt_ext_platter">
        <div class="pkt_ext_save_toolbar">
            <div class="pkt_ext_toolbar_main">
                <div class="pkt_ext_logo archived">
                    <svg class="pkt_ext_icon" viewBox="0 0 22 22"><path d="M21.79,2.55a2,2,0,0,0-1.86-1.3H2.08a2,2,0,0,0-2,2V9.82l0.08,1.31a10.66,10.66,0,0,0,4.25,7.4l0.13,0.1,0,0a10.79,10.79,0,0,0,4.26,1.89,10.92,10.92,0,0,0,4.18,0l0.24,0,0.07,0a10.79,10.79,0,0,0,4.09-1.85l0,0,0.13-.1a10.66,10.66,0,0,0,4.25-7.4L21.9,9.82V3.23A2,2,0,0,0,21.79,2.55ZM17.18,9.42L12,14.34a1.49,1.49,0,0,1-2.07,0L4.85,9.42A1.5,1.5,0,0,1,6.92,7.26L11,11.19l4.09-3.93A1.5,1.5,0,0,1,17.18,9.42Z"></path></svg>
                </div>
                <div class="pkt_ext_logo_action_copy">Page Archived!</div>
                <div class="pkt_ext_actions">
                    <a href="https://aghassi.github.io/NodeJS-Express-NginX-Setup/#" alt="Archive Page" class="pkt_ext_action_overflow simple-tooltip">
                        <svg class="pkt_ext_icon" viewBox="0 0 100 100">
                            <path d="M15 40c5.46 0 10 4.54 10 10s-4.54 10-10 10S5 55.46 5 50s4.54-10 10-10zm60 10c0 5.46 4.54 10 10 10s10-4.54 10-10-4.54-10-10-10-10 4.54-10 10zm-35 0c0 5.46 4.54 10 10 10s10-4.54 10-10-4.54-10-10-10-10 4.54-10 10z"></path>
                        </svg>
                    </a>
                    <ul class="pkt_ext_overflow">
                        <li class="pkt_ext_overflow_item">
                            <a href="https://aghassi.github.io/NodeJS-Express-NginX-Setup/#" alt="Archive Page" class="pkt_ext_action_archive simple-tooltip">
                                <svg class="pkt_ext_icon" viewBox="0 0 16 16"><polygon points="1 9 3 7 6 10 14.02 2.02 16 4 6 14.02 1 9"></polygon></svg>
                                Archive Page
                            </a>
                        </li>
                        <li class="pkt_ext_overflow_item divider">
                            <a href="https://aghassi.github.io/NodeJS-Express-NginX-Setup/#" alt="Remove Page" class="pkt_ext_action_removeitem simple-tooltip">
                                <svg class="pkt_ext_icon" viewBox="0 0 16 16">
                                    <path d="M12,3V1H4V3H1V5H15V3ZM5,2h6V3H5V2Z"></path>
                                    <polygon points="3.01 16 13.03 16 13.03 6 3.03 6 3.01 16"></polygon>
                                </svg>
                                Remove Page
                            </a>
                        </li>
                        <li class="pkt_ext_overflow_item">
                            <a alt="Open Pocket" href="http://getpocket.com/a" target="_blank" class="pkt_ext_action_home simple-tooltip">
                                <svg class="pkt_ext_icon" viewBox="0 0 16 16">
                                    <path d="M14.05,13.95v-4a1,1,0,0,0-2,0V13h-9V5H6A1,1,0,0,0,6,3h-4a1,1,0,0,0-1,1V14a1,1,0,0,0,1,1h11a1,1,0,0,0,1-1s0,0,0,0h0Z"></path>
                                    <path d="M15.06,1h-5a1,1,0,1,0,0,2h1.58L6.17,8.28A1,1,0,1,0,7.56,9.72l5.5-5.31V6a1,1,0,0,0,2,0V2h0V1Z"></path>
                                </svg>
                                Open Pocket
                            </a>
                        </li>
                        <li class="pkt_ext_overflow_item">
                            <a alt="Open Settings" href="https://aghassi.github.io/NodeJS-Express-NginX-Setup/#" class="pkt_ext_action_options simple-tooltip">
                               <svg class="pkt_ext_icon" viewBox="0 0 16 16">
                                  <path d="M15,9V7H13.4a5.53,5.53,0,0,0-1-2.21l1.39-1.39L12.41,2,11,3.41l0,0A5.45,5.45,0,0,0,9,2.6V1H7V2.6a5.49,5.49,0,0,0-2.22.95L3.41,2.18,2,3.59,3.4,5a5.48,5.48,0,0,0-.8,2H1V9H2.61a5.53,5.53,0,0,0,.8,2L2,12.41l1.41,1.41,1.38-1.38A5.46,5.46,0,0,0,7,13.4V15H9V13.39a5.53,5.53,0,0,0,2-.81L12.41,14l1.41-1.41L12.44,11.2a5.46,5.46,0,0,0,1-2.2H15ZM8,10.29A2.29,2.29,0,1,1,10.29,8,2.29,2.29,0,0,1,8,10.29Z"></path>
                                </svg>
                                Settings
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="pkt_ext_tag_detail">
                <div id="pkt_ext_tag_input_wrapper" class="pkt_ext_tag_input_wrapper"><span class="taggle_placeholder" style="opacity: 1;">Add Tags</span><ul class="taggle_list"><li><input type="text" class="taggle_input" tabindex="1" autocomplete="off"></li></ul><div class="taggle_sizer" style="font-size: 14px;"></div><div class="autocomplete-suggestions "></div></div>
                <div id="pkt_ext_no_suggestions"></div>
                <ul id="pkt_ext_suggested_tags" class="suggested_tags"></ul>
            </div>
        </div>
    </div>

    <div id="pkt_ext_save_recs" class=""><div class="pkt_ext_recommendations pkt_ext_platter pkt_ext_loaded" id="pkt_ext_recommendations">
    <div class="pkt_ext_loading" id="recommendations-trigger">
        <div class="pkt_ext_loader">
            <div class="loader-inner ball-clip-rotate-pulse">
                <div></div>
                <div></div>
            </div>
        </div>
        Loading recommendations
    </div>
    <div id="pkt_ext_recommendations_list"><div class="pkt_ext_recs_header">Explore Pocket's recommendations:</div>
<ul class="pkt_ext_recommendations_list">
        <li class="pkt_ext_recommendation pkt_ext_has_image" rec_url="https://www.eff.org/deeplinks/2014/11/certificate-authority-encrypt-entire-web" rec_title="Launching in 2015: A Certificate Authority to Encrypt the Entire Web" rec_id="768739601" rec_source="1265436995" rec_position="0">
            <div class="pkt_ext_rec_image" style="background-image:url(&#39;https://www.eff.org/files/2014/11/18/encrypt-2.png&#39;); background-size:cover; background-position:center center;" data-imgsrc="https://www.eff.org/files/2014/11/18/encrypt-2.png"></div>
            <div class="pkt_ext_rec_title">
                <a class="pkt_ext_rec_open" target="_blank" href="https://www.eff.org/deeplinks/2014/11/certificate-authority-encrypt-entire-web">Launching in 2015: A Certificate Authority to Encrypt the Entire Web</a>
                <div class="pkt_ext_rec_source">eff.org</div>
            </div>
            <div class="pkt_ext_rec_details">
                <a href="https://aghassi.github.io/NodeJS-Express-NginX-Setup/#" class="pkt_ext_rec_save"><svg class="pkt_ext_icon pkt_ext_icon_save" viewBox="0 0 22 22"><path d="M21.79,2.55a2,2,0,0,0-1.86-1.3H2.08a2,2,0,0,0-2,2V9.82l0.08,1.31a10.66,10.66,0,0,0,4.25,7.4l0.13,0.1,0,0a10.79,10.79,0,0,0,4.26,1.89,10.92,10.92,0,0,0,4.18,0l0.24,0,0.07,0a10.79,10.79,0,0,0,4.09-1.85l0,0,0.13-.1a10.66,10.66,0,0,0,4.25-7.4L21.9,9.82V3.23A2,2,0,0,0,21.79,2.55ZM17.18,9.42L12,14.34a1.49,1.49,0,0,1-2.07,0L4.85,9.42A1.5,1.5,0,0,1,6.92,7.26L11,11.19l4.09-3.93A1.5,1.5,0,0,1,17.18,9.42Z"></path></svg><span class="pkt_ext_save_copy">Save</span> </a>
            </div>
        </li>
        <li class="pkt_ext_recommendation pkt_ext_has_image" rec_url="https://medium.com/@b_k/https-the-end-of-an-era-c106acded474" rec_title="HTTPS: the end of an era" rec_id="917315613" rec_source="1265436995" rec_position="1">
            <div class="pkt_ext_rec_image" style="background-image:url(&#39;https://cdn-images-1.medium.com/max/1600/1*R3BBkQvLtv-hXByCWU_INw.png&#39;); background-size:cover; background-position:center center;" data-imgsrc="https://cdn-images-1.medium.com/max/1600/1*R3BBkQvLtv-hXByCWU_INw.png"></div>
            <div class="pkt_ext_rec_title">
                <a class="pkt_ext_rec_open" target="_blank" href="https://medium.com/@b_k/https-the-end-of-an-era-c106acded474">HTTPS: the end of an era</a>
                <div class="pkt_ext_rec_source">medium.com</div>
            </div>
            <div class="pkt_ext_rec_details">
                <a href="https://aghassi.github.io/NodeJS-Express-NginX-Setup/#" class="pkt_ext_rec_save"><svg class="pkt_ext_icon pkt_ext_icon_save" viewBox="0 0 22 22"><path d="M21.79,2.55a2,2,0,0,0-1.86-1.3H2.08a2,2,0,0,0-2,2V9.82l0.08,1.31a10.66,10.66,0,0,0,4.25,7.4l0.13,0.1,0,0a10.79,10.79,0,0,0,4.26,1.89,10.92,10.92,0,0,0,4.18,0l0.24,0,0.07,0a10.79,10.79,0,0,0,4.09-1.85l0,0,0.13-.1a10.66,10.66,0,0,0,4.25-7.4L21.9,9.82V3.23A2,2,0,0,0,21.79,2.55ZM17.18,9.42L12,14.34a1.49,1.49,0,0,1-2.07,0L4.85,9.42A1.5,1.5,0,0,1,6.92,7.26L11,11.19l4.09-3.93A1.5,1.5,0,0,1,17.18,9.42Z"></path></svg><span class="pkt_ext_save_copy">Save</span> </a>
            </div>
        </li>
        <li class="pkt_ext_recommendation pkt_ext_has_image" rec_url="http://paidpost.nytimes.com/philips/make-life-better/a-restful-sleep.html?utm_source=New+York+Times&amp;utm_medium=banner&amp;utm_campaign=1_globalus_en_bc_nyt_pket-v5___nytsl_nytpp_ba" rec_title="Why You Should Worry About Those Sleepless Nights" rec_id="1496718466" rec_source="1265436995" rec_position="2" impression_id="68d91668c34d44538f82b93bbf619607_83b8f0fe">
            <div class="pkt_ext_rec_image" style="background-image:url(&#39;http://cdn.adsnative.com/media/nw-727/b9b8141a-ee91-48a9-8887-dfac3eb5a7a1.jpg&#39;); background-size:cover; background-position:center center;" data-imgsrc="http://cdn.adsnative.com/media/nw-727/b9b8141a-ee91-48a9-8887-dfac3eb5a7a1.jpg"></div>
            <div id="pkt_ext_spoc" class="pkt_ext_spoc">
                <a href="https://getpocket.com/@philips"><img class="pkt_ext_spoc_avatar" src="./Deploying NodeJS using Express with NginX and Let&#39;s Encrypt – The Corner – A wandering programmer just trying to keep it simple._files/376ea36f85627a307333a8c668f02394784a883.jpg">Philips </a><div class="pkt_ext_spoc_label" id="pkt_ext_spoc_label">Sponsored <svg class="pkt_ext_down_arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 16"><path d="M13.64,4.33a1.32,1.32,0,0,0-1.75,0L7,9.26,2.11,4.33a1.32,1.32,0,0,0-1.75,0,1.07,1.07,0,0,0,0,1.6L6,11.67A1.29,1.29,0,0,0,7,12a1.29,1.29,0,0,0,1-.33l5.69-5.74A1.07,1.07,0,0,0,13.64,4.33Z"></path></svg></div>
                <ul class="pkt_ext_spoc_dropdown">
        
                    <li class="pkt_ext_spoc_dropdown_item" val="0">
                        <a href="https://aghassi.github.io/NodeJS-Express-NginX-Setup/#" id="pkt_ext_spoc_hide_this" class="rec-overflow-hide-this">
                        <svg class="overflow_icon icon_hide_this" viewBox="0 0 25 25"><path d="M14.854,12.536l3.814-3.825c0.644-0.645,0.643-1.689-0.003-2.333s-1.689-0.643-2.333,0.003 l-3.81,3.818L8.668,6.335C8.024,5.689,6.98,5.688,6.335,6.332S5.688,8.019,6.332,8.665l3.86,3.871l-3.743,3.753 c-0.644,0.645-0.643,1.689,0.003,2.333s1.689,0.643,2.333-0.003l3.737-3.747l3.783,3.793c0.322,0.323,0.745,0.485,1.168,0.485 c0.422,0,0.843-0.161,1.165-0.482c0.646-0.644,0.646-1.688,0.003-2.333L14.854,12.536z"></path></svg>
                        Hide This </a>
                    </li>
                    <li class="pkt_ext_spoc_dropdown_item" val="1">
                        <a href="https://help.getpocket.com/customer/portal/articles/2061219" target="_blank" class="rec-overflow-aboutsponsor">
                        <svg class="overflow_icon icon_about_sponsor" viewBox="0 0 25 25"><path d="M21.656,20.083c-0.016-0.011-1.206-0.842-1.96-2.403c1.205-1.435,1.93-3.229,1.93-5.183 c0-4.694-4.141-8.5-9.25-8.5s-9.25,3.806-9.25,8.5s4.141,8.5,9.25,8.5c1.46,0,2.835-0.319,4.063-0.873 c1.054,0.47,2.545,0.878,4.551,0.878c0.131,0,0.264-0.002,0.399-0.005c0.217-0.006,0.405-0.151,0.466-0.359 C21.916,20.43,21.835,20.205,21.656,20.083z M10.261,10.554L9.013,9.153c0.816-0.955,2.047-1.493,3.372-1.493 c1.986,0,3.203,1.001,3.203,2.433c0,2.248-2.571,2.417-2.571,3.71c0,0.119,0.03,0.241,0.077,0.351H11.19 c-0.049-0.178-0.083-0.365-0.083-0.567c0-1.832,2.248-2.048,2.248-3.11c0-0.477-0.354-0.877-1.201-0.877 C11.385,9.599,10.738,9.984,10.261,10.554z M12.354,18.252c-0.677,0-1.247-0.57-1.247-1.247c0-0.677,0.57-1.247,1.247-1.247 c0.677,0,1.247,0.57,1.247,1.247C13.601,17.682,13.032,18.252,12.354,18.252z"></path></svg>
                            About Sponsored Posts
                        </a>
                    </li>
                    <li class="pkt_ext_spoc_dropdown_item last" val="2">
                        <a href="https://getpocket.com/premium/hide_sponsorship" target="_blank" class="rec-overflow-hidesponsor">
                        <svg class="overflow_icon icon_hide_all" viewBox="0 0 25 25"><path d="M20.978,6.137C20.609,4.66,16.958,3.5,12.506,3.5c-4.452,0-8.102,1.16-8.472,2.637C4.019,6.198,4.01,6.259,4.006,6.321 l0,0.063L4,16.478c0,0.423,0.252,0.813,0.677,1.043l2.253,1.214l3.675,1.98l1.103,0.594c0.235,0.125,0.506,0.192,0.784,0.192 c0.275,0,0.544-0.065,0.781-0.19l1.02-0.543l3.698-1.97l2.309-1.23c0.358-0.19,0.593-0.495,0.662-0.839 C20.986,16.639,21,16.549,21,16.455V6.383V6.234C20.995,6.202,20.986,6.169,20.978,6.137z M16.337,11.467l-5.352,5.944 c-0.054,0.06-0.133,0.092-0.214,0.092c-0.037,0-0.074-0.007-0.109-0.021l-0.007-0.003l-0.132-0.052 c-0.132-0.052-0.199-0.188-0.152-0.313l1.407-3.77H8.942c-0.107,0-0.204-0.056-0.25-0.145c-0.046-0.088-0.032-0.193,0.036-0.268 l5.377-5.962c0.087-0.097,0.239-0.12,0.357-0.056l0.125,0.069c0.111,0.061,0.161,0.185,0.119,0.298l-1.418,3.774h2.834 c0.107,0,0.204,0.056,0.25,0.144C16.419,11.287,16.404,11.392,16.337,11.467z"></path></svg>
                            Hide All Sponsored Posts
                        </a>
                    </li>
        
                </ul>
            </div>
            <div class="pkt_ext_rec_title">
                <a class="pkt_ext_rec_open" target="_blank" href="https://getpocket.com/redirect?&amp;url=http%3A%2F%2Fpaidpost.nytimes.com%2Fphilips%2Fmake-life-better%2Fa-restful-sleep.html%3Futm_source%3DNew%2520York%2520Times%26utm_medium%3Dbanner%26utm_campaign%3D1_globalus_en_bc_nyt_pket-v5___nytsl_nytpp_ba&amp;h=70822709f06ad3b72afb3017c82293dd7b58b73211cf24b32bf4717810e97686">Why You Should Worry About Those Sleepless Nights</a>
                <div class="pkt_ext_rec_source">paidpost.nytimes.com</div>
            </div>
            <div class="pkt_ext_rec_details">
                <a href="https://aghassi.github.io/NodeJS-Express-NginX-Setup/#" class="pkt_ext_rec_save"><svg class="pkt_ext_icon pkt_ext_icon_save" viewBox="0 0 22 22"><path d="M21.79,2.55a2,2,0,0,0-1.86-1.3H2.08a2,2,0,0,0-2,2V9.82l0.08,1.31a10.66,10.66,0,0,0,4.25,7.4l0.13,0.1,0,0a10.79,10.79,0,0,0,4.26,1.89,10.92,10.92,0,0,0,4.18,0l0.24,0,0.07,0a10.79,10.79,0,0,0,4.09-1.85l0,0,0.13-.1a10.66,10.66,0,0,0,4.25-7.4L21.9,9.82V3.23A2,2,0,0,0,21.79,2.55ZM17.18,9.42L12,14.34a1.49,1.49,0,0,1-2.07,0L4.85,9.42A1.5,1.5,0,0,1,6.92,7.26L11,11.19l4.09-3.93A1.5,1.5,0,0,1,17.18,9.42Z"></path></svg><span class="pkt_ext_save_copy">Save</span> </a>
            </div>
        </li>
</ul>
<div class="pkt_ext_timer_container"></div>
</div>
</div>
</div>
</div>
</div></div></body></html>